<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8" />
	<title>rrdFile module</title>
	<meta name="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)" />
	<meta name="CREATED" CONTENT="20090209;18445600" />
	<meta name="CHANGED" CONTENT="20090209;19214700" />
	<meta name="Info 1" CONTENT="" />
	<meta name="Info 2" CONTENT="" />
	<meta name="Info 3" CONTENT="" />
	<meta name="Info 4" CONTENT="" />
	<style type="text/css">
	<!--
		@page { margin: 0.79in }
		TD P { margin-bottom: 0.08in }
		H1 { margin-bottom: 0.08in }
		H1.western { font-family: "Liberation Sans", sans-serif; font-size: 22pt }
		P { margin-bottom: 0.08in }
		h2.heading-2-western { font-family: "Liberation Serif", serif; font-size: 16pt }
		TH P { margin-bottom: 0.08in }
		A:link { so-language: zxx }
	-->
	</style>
</head>
<body LANG="en-US" DIR="LTR">
<h1 class="western">rrdFile module</h1>
<table width="50%" cellpadding="2" CELLSPACING="2">
	<tr>
		<td>
			<hr />
			<p>The <a href="../lib/rrdFile.js">rrdFile Javascript
			module</a> implements a set of classes that can be used to extract
			information from <a href="http://oss.oetiker.ch/rrdtool/">RRD
			archives</a> loaded as binary file objects.</p>
			<hr />
		</td>
	</tr>
</table>
<h2 class="heading-2-western">Overview</h2>
<p>The main class in this module is <a href="#RRDFile">RRDFile</a>.
It interprets the given the binary file object and provides methods
to decode the <a href="http://oss.oetiker.ch/rrdtool/">RRD</a>
information.</p>
<h2 class="heading-2-western"><a NAME="RRDFile"></a>Class RRDFile</h2>
<p>This is the main class of the package. It is also the only class
the user ever needs to explicitly instantiate.</p>
<p>The RRDFile constructor has two arguments (only one required):</p>
<ul>
	<li><p>A binary file object.</p>
	<p>Any object implementing an interface providing the following
	methods can be used:</p>
	<ul>
		<li><p>getByteAt(idx) - Return a 8 bit unsigned integer at offset
			idx.</p></li>
		<li><p>getLongAt(idx) - Return a 32 bit unsigned integer at offset
			idx.</p></li>
		<li><p>getDoubleAt(idx) - Return a double float at offset idx.</p></li>
		<li><p>getFastDoubleAt(idx) - Similar to getDoubleAt but with less
			precision.</p></li>
		<li><p>getCStringAt(idx,maxsize) - Return a string of at most
			maxsize characters that was 0-terminated in the source.</p></li>
	</ul>
	<p>The <a href="binaryXHR_js.html">binaryXHR module</a>, provided
	with this package, provides the class <a href="binaryXHR_js.html#BinaryFile">BinaryFile</a>
	that implements this interface.</p>
<p>If the binary file is not a proper <a href="http://oss.oetiker.ch/rrdtool/">RRD
file</a>, an <a href="#InvalidRRD">InvalidRRD</a> exception will be
thrown.</p></li>
       <li><p>Options object (optional)</p>
       <p>Currently with no semantics; defined for future expandability only.</p></li>
</ul>
<p>This class also implements the following methods:</p>
<div align='right'>
	<table width="90%" border='1' cellpadding="2" CELLSPACING="3">
		<col width="51*" />
		<col width="205*" />
		<thead>
			<tr valign='top'>
				<th width="20%">
					<p align='left'>Method</p>
				</th>
				<th width="80%">
					<p align='left'>Description</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr valign='top'>
				<td width="20%">
					<p>getMinStep()</p>
				</td>
				<td width="80%">
					<p>Return the base <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#I__step__s_step__default__300_seconds_">interval
					in seconds</a> that was used to feed the RRD file.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getLastUpdate()</p>
				</td>
				<td width="80%">
					<p>Return the timestamp of the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdlastupdate.en.html">last
					update</a>.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getNrDSs()</p>
				</td>
				<td width="80%">
					<p>Return the number of <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">Data
					Sources</a> present in the RRD file. 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getDSNames()</p>
				</td>
				<td width="80%">
					<p>Return the names of the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">Data
					Sources</a> present in the RRD file. 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getDS(id)</p>
				</td>
				<td width="80%">
					<p>If id is a number, return an object of type <a href="#RRDDS">RRDDS</a> holding
					the information about the id-th <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">Data
					Source</a>.</p>
					<p>If id is a string, return an object of type <a href="#RRDDS">RRDDS</a> holding
					the information about the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">Data
					Source</a> with the requested name.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getNrRRAs()</p>
				</td>
				<td width="80%">
					<p>Return the number of <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Round
					Robin Archives</a> present in the RRD file.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getRRAInfo(n)</p>
				</td>
				<td width="80%">
					<p>Return an object of type <a href="#RRDRRAInfo">RRDRRAInfo</a>
					holding the information about the n-th <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Round
					Robin Archive</a>.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getRRA(n)</p>
				</td>
				<td width="80%">
					<p>Return an object of type <a href="#RRDRRA">RRDRRA</a> that
					can be used to access the values stored in the n-th <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Round
					Robin Archive</a>.</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<hr />
<h2><i>Internal classes</i></h2>

<h2 class="heading-2-western"><a NAME="RRDDS"></a>Class RRDDS</h2>
<p>This class implements the methods needed to access the information
about a <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">RRD
Data Source</a>.</p>
<div align='right'>
	<table width="90%" border='1' cellpadding="2" CELLSPACING="3">
		<col width="51*" />
		<col width="205*" />
		<thead>
			<tr valign='top'>
				<th width="20%">
					<p align='left'>Method</p>
				</th>
				<th width="80%">
					<p align='left'>Description</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr valign='top'>
				<td width="20%">
					<p>getIdx()</p>
				</td>
				<td width="80%">
					<p>Return which DS it is in the RRD file.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getName()</p>
				</td>
				<td width="80%">
					<p>Return the name of the data source.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getType()</p>
				</td>
				<td width="80%">
					<p>Return the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">type</a>
					of the data source.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getMin()</p>
				</td>
				<td ROWSPAN="2" width="80%">
					<p>Return the minimum and maximum value the data source can
					contain. 
					</p>
					<p>If either is not defined, <I>undefined</I> is returned.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getMax()</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<h2 class="heading-2-western"><a NAME="RRDRRAInfo"></a>Class
RRDRRAInfo</h2>
<p>This class implements the methods needed to access the information
about a <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Round
Robin Archive</a>.</p>
<div align='right'>
	<table width="90%" border='1' cellpadding="2" CELLSPACING="3">
		<col width="52*" />
		<col width="204*" />
		<thead>
			<tr valign='top'>
				<th width="20%">
					<p align='left'>Method</p>
				</th>
				<th width="80%">
					<p align='left'>Description</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr valign='top'>
				<td width="20%">
					<p>getIdx()</p>
				</td>
				<td width="80%">
					<p>Return which RRA it is in the RRD file.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getNrRows()</p>
				</td>
				<td width="80%">
					<p>Return the number of rows in the RRA.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getStep()</p>
				</td>
				<td width="80%">
					<p>Return the number of seconds between rows.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getCFName()</p>
				</td>
				<td width="80%">
					<p>Return the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Consolidation
					Function</a> used by the RRA.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getPdpPerRow()</p>
				</td>
				<td width="80%">
					<p>Return number of slots used for consolidation.</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<h2 class="heading-2-western"><a NAME="RRDRRA"></a>Class RRDRRA</h2>
<p>This class implements the methods needed to access the content of
a <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Round
Robin Archive</a>.</p>
<div align='right'>
	<table width="90%" border='1' cellpadding="2" CELLSPACING="3">
		<col width="52*" />
		<col width="204*" />
		<thead>
			<tr valign='top'>
				<th width="20%">
					<p align='left'>Method</p>
				</th>
				<th width="80%">
					<p align='left'>Description</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr valign='top'>
				<td width="20%">
					<p>getIdx()</p>
				</td>
				<td width="80%">
					<p>Return which RRA it is in the RRD file.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getCFName()</p>
				</td>
				<td width="80%">
					<p>Return the <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IRRA_CF_cf_arguments">Consolidation
					Function</a> used by the RRA.</p>
					<p>The current implementation only supports
					AVERAGE,MAXIMUM,MINIMUM and LAST.<br />Access to elements of any
					other CF is currently undefined. 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getNrRows()</p>
				</td>
				<td width="80%">
					<p>Return the number of rows in the RRA.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getNrDSs()</p>
				</td>
				<td width="80%">
					<p>Return the number of <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html#IDS_ds_name_DST_dst_arguments">Data
					Sources</a> present in the RRA.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getStep()</p>
				</td>
				<td width="80%">
					<p>Return the number of seconds between rows.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getEl(r,d)</p>
				</td>
				<td width="80%">
					<p>Return the value for the d-th DS in the r-th row.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width="20%">
					<p>getElFast(row,ds)</p>
				</td>
				<td width="80%">
					<p>Return the low-precision value for the d-th DS in the r-th
					row.</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<h2 class="heading-2-western"><a NAME="InvalidRRD"></a>Exception
class InvalidRRD</h2>
<p>This is a helper exception class that can be thrown while
interpreting the binary file object.</p>
<p><br /><br />
</p>
<table width="50%" cellpadding="2" CELLSPACING="2">
	<tr>
		<td>
			<hr />
			<p>This module is part of the <a href="index.html">javascriptRRD
			package</a> hosted at <a href="http://javascriptrrd.sourceforge.net/">http://javascriptrrd.sourceforge.net</a>.
			<br />It is licensed under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT
			license</a>. 
			</p>
			<hr />
		</td>
	</tr>
</table>
</body>
</html>
