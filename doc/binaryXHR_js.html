<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8" />
	<title>binaryXHR module</title>
	<meta name="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)" />
	<meta name="CREATED" CONTENT="20090207;18445600" />
	<meta name="CHANGED" CONTENT="20090208;21102900" />
	<meta name="Info 1" CONTENT="" />
	<meta name="Info 2" CONTENT="" />
	<meta name="Info 3" CONTENT="" />
	<meta name="Info 4" CONTENT="" />
	<style type="text/css">
	<!--
		@page { margin: 0.79in }
		TD P { margin-bottom: 0.08in }
		H1 { margin-bottom: 0.08in }
		H1.western { font-family: "Liberation Sans", sans-serif; font-size: 22pt }
		P { margin-bottom: 0.08in }
		TH P { margin-bottom: 0.08in }
		h2.heading-2-western { font-family: "Liberation Serif", serif; font-size: 16pt; font-weight: bold }
		A:link { so-language: zxx }
	-->
	</style>
</head>
<body LANG="en-US" DIR="LTR">
<h1 class="western">binaryXHR module</h1>
<table width='50%' cellpadding='2' CELLSPACING='2'>
	<tr>
		<td>
			<hr />
			<p>The <a href="../src/lib/binaryXHR.js">binaryXHR Javascript
			module</a> implements a set of functions and classes that can be
			used to retrieve binary files using the <a href="http://en.wikipedia.org/wiki/XMLHttpRequest">XMLHttpRequest</a>
			API.</p>
			<hr />
		</td>
	</tr>
</table>
<h2 class="heading-2-western">Overview</h2>
<p>This module provides two functions, 
<a href="#FetchBinaryURL">FetchBinaryURL</a> and
<a href="#FetchBinaryURLAsync">FetchBinaryURLAsync</a>, 
that are wrappers around the 
<a href="http://en.wikipedia.org/wiki/XMLHttpRequest">XMLHttpRequest</a> API
and return an object of type 
<a href="#BinaryFile">BinaryFile</a>. 
The first one implements a
straight load, while the second one initiates an asynchronous
operation handled by a callback function.</p>
<p>The <a href="#BinaryFile">BinaryFile</a> class implements the methods needed to access the
elements of the binary files, such as strings, integers and real
numbers. 
</p>
<p>Both the functions and the class internally handle the differences
between different Web Browsers, so the user of this module does not
need to worry about them.</p>
<a NAME="FetchBinaryURL">
<h2 class="heading-2-western">Function FetchBinaryURL</h2>
</a>
<p>Load a binary file.</p>
<p>Arguments:</p>
<ul>
	<li><p>url:string - URL from where to load the binary file.</p></li>
</ul>
<p>Output:</p>
<ul>
	<li><p>An object of type BinaryFile.</p></li>
</ul>
<a NAME="FetchBinaryURLAsync">
<h2 class="heading-2-western">Function FetchBinaryURLAsync</h2>
</a>
<p>Initiate an asynchronous binary load.</p>
<p>Arguments:</p>
<ul>
	<li><p>url:string - URL from where to load the binary file.</p></li>
	<li><p>callback:function(obj[,arg]) - Pointer to the function that will
	be called when the binary file has been loaded. <br />
        The function will be
	given one or two arguments; the first one is an object of type <a href="#BinaryFile">BinaryFile</a>.
	The second one is the argument described below, if available.</p></li>
	<li><p>callback_arg:any (optional) - If present, it will be given as argument to the callback function.</p></li>
</ul>
<p>Output:</p>
<ul>
	<li><p>A reference to the <a href="http://www.w3.org/TR/XMLHttpRequest/">XMLHttpRequest</a> object.
	       It may be used to verify the status of the load or to implement timeouts.<br />
	       The callback function will receive the loaded binary file.</p></li>
</ul>
<a NAME="BinaryFile">
<h2 class="heading-2-western">Class BinaryFile</h2>
</a>
<p>This class implements the methods needed to access the content of
the binary file.</p>
<div align='right'>
	<table width='90%' border='1'>
		<col width='25%' />
		<col width='75%' />
		<thead>
			<tr valign='top'>
				<th width='25%'>
					<p align='left'>Method</p>
				</th>
				<th width='75%'>
					<p align='left'>Description</p>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr valign='top'>
				<td width='25%'>
					<p>getLength()</p>
				</td>
				<td width='75%'>
					<p>Return the number of bytes held by the object.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getByteAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return an 8 bit unsigned integer from offset <I>idx</I>.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getShortAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a 16 bit little endian unsigned integer from offset
					idx. 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getLongAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a 32 bit little endian unsigned integer from offset
					idx.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getSByteAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return an 8 bit signed integer from offset <I>idx</I>.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getSShortAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a 16 bit little endian signed integer from offset
					idx. 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getSLongAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a 32 bit little endian signed integer from offset
					idx.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getDoubleAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a double float (64 bit little endian) from offset idx.</p>
					<p>Return <i>undefined</i> if the value is not a float or is infinity.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getFastDoubleAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Return a low resolution (20 bit mantissa) double flat
					obtained from the high 32 bits of the original little endian
					double float from offset idx.</p>
					<p>Return <i>undefined</i> if the value is not a float or is infinity.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getCharAt(idx)</p>
				</td>
				<td width='75%'>
					<p>Get a character from offset idx.</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getCStringAt(idx,maxlen)</p>
				</td>
				<td width='75%'>
					<p>Get a zero terminated string of limited size from offset idx.
					 
					</p>
				</td>
			</tr>
			<tr valign='top'>
				<td width='25%'>
					<p>getStringAt(idx,len)</p>
				</td>
				<td width='75%'>
					<p>Get a fixed length string from offset idx.</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
</body>
</html>
